/*
 * Copyright 2018 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

#import <Foundation/Foundation.h>

@class GARAnchor;

NS_ASSUME_NONNULL_BEGIN

/**
 * ARCore frame class. Each GARFrame corresponds to an `ARFrame` that was passed into
 * a GARSession with a call to GARSession#update:error:. GARFrames are immutable, since new
 * `ARFrame`s can be generated by **ARKit** at any time.
 * For Augmented Faces, see GARAugmentedFaceFrame.
 */
@interface GARFrame : NSObject

/**
 * All anchors in the GARSession at the timestamp of this frame, plus any anchors removed by the
 * GARSession since the last frame was generated. Each anchor in this array is an
 * immutable snapshot of an underlying anchor, which can be uniquely identified by the anchor's
 * identifier property.
 */
@property(nonatomic, readonly) NSArray<GARAnchor *> *anchors;

/**
 * The subset of the anchors array consisting of those anchors that have changed since the last
 * frame was generated. This should only be used if the immediately previous frame was processed.
 */
@property(nonatomic, readonly) NSArray<GARAnchor *> *updatedAnchors;

/**
 * The frame timestamp. This is equal to the timestamp on the corresponding `ARFrame`, and
 * represents time since boot in seconds.
 */
@property(nonatomic, readonly) NSTimeInterval timestamp;

/// @cond
/**
 * Instantiated by the library.
 */
- (instancetype)init NS_UNAVAILABLE;
+ (instancetype)new NS_UNAVAILABLE;
/// @endcond

@end

NS_ASSUME_NONNULL_END
